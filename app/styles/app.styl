@require 'variables.styl'
@require '/node_modules/fluidity/lib/fluidity.styl'
@require 'mixins.styl'
@require 'functions.styl'

*
  box-sizing border-box
  text-rendering optimizeLegibility

html, body
  height 100%
  -webkit-user-select none

body
  overflow hidden
  margin 0
  padding 0
  font-family 'Segoe UI', 'Lucida Sans', 'Droid Sans', 'Liberation Sans', sans-serif
  display flex
  flex-direction column
  align-items stretch
  align-content stretch
  
input[type='file']
  display none

.titlebar
  -webkit-app-region drag
  padding 4px 16px
  toolbar $foreground, $background
  flex 0 0 30px
  
  .menubar, .window-controls
    -webkit-app-region no-drag
    
  .app-name
    margin-right 10px
    padding-right 10px
    border-right 1px solid $foreground
    font-size 12px
    
  .window-controls
    position absolute
    top 0
    right 0
    display flex
    align-content stretch
    align-items baseline
    padding 0 4px
    
    a
      width 40px
      margin-left 1px
      font-family monospace
      font-size 18px
      font-weight bold
      text-align center
      background mix($background, #888, 65%)
      color mix($foreground, #888, 90%)
      transition opacity .3s ease
      opacity .8
      cursor default
      
      &:hover
        opacity 1
        color $foreground
        
      &:nth-child(2)
      
        div
          transition -webkit-transform .5s ease
          transform rotate(0deg)
          
        &.maximized div
          transform rotate(180deg)
      
      &:last-child
        background $accent
        color $foreground
        
.holder
  display flex
  flex-grow 1
  align-items stretch
  align-content stretch
  flex-flow row
  
  #project
    display flex
    flex 0 1 200px
    background linear-gradient(to right, mix($background, $foreground, 85%), mix($background, $foreground, 80%))
    color mix($foreground, $background, 80%)
    flex-flow column
    align-items baseline
    transition flex .5s ease
    overflow-y auto
    overflow-x hidden
    
    &.collapsed
      flex 0 1 40px
      
      .project-name
        width 0
        opacity 0
      
      .tree
        width 0
        opacity 0
      
    .project-name
      display flex
      flex 0 1 auto
      opacity 1
      white-space nowrap
      transition width, opacity .5s ease
          
    .tree
      display flex
      flex-flow column
      flex 0 1 auto
      opacity 1
      white-space nowrap
      transition width, opacity .5s ease
      font-size 12px
      cursor pointer
      
      .tree-container
        display flex
        flex-flow row
        flex 0 1 auto
        
        span
          width 100%
          z-index 1
        
        .expander
          transition -webkit-transform .5s ease
          transform rotate(0deg)
          font-weight bold
        
          &.expanded
            transform rotate(90deg)
      
      .tree
        padding-left 10px
        
    .file
      color $foreground
  
  .container
    display flex
    flex 1 0 auto
    flex-flow column
  
    #editor
      display flex
      flex 1 0 auto
      flex-flow column
    
    .tabs
      display flex
      flex 0 0 30px
      background linear-gradient(to bottom, mix($background, #888, 80%), mix($background, #888, 50%))
      flex-flow row
      cursor default
      
      .tab
        color mix($foreground, $background, 70%)
        background linear-gradient(to bottom, mix($background, #888, 70%), mix($background, #888, 75%))
        font-size 12px
        margin 0 2px
        vertical-align middle
        line-height 28px
        display flex
        flex-flow row
        
        span
          flex-grow 1
          padding 0 10px
        
        &.active
          border-bottom solid 5px $accent
          background linear-gradient(to bottom, mix($background, #888, 75%), mix($background, #888, 85%))
          color $foreground
          
          .status
            color $accent
        
        .status
          font-size 14px
          padding 0 2px
          margin-right 8px
          vertical-align middle
          
          &:hover
            color $foreground
        
.bottom-bar
  margin 0
  padding 2px 5px
  flex 0 0 auto
  align-self flex-end
  width 100%
  display flex
  justify-content space-between
  align-content stretch
  box-shadow: 0 -4px 4px rgba(0,0,0,.1)
  toolbar $foreground, $background
  font-size 12px
  
  .position
    display flex
    flex-flow column
    justify-content center
    
  .devTools
    display flex
    justify-content center
    flex 1 0 auto
    
    a
      cursor default
      padding-left 15px
    
  .selectors
    position absolute
    right 0
    bottom 0
    height 26px
    
    select
      margin-top 2px
      border none
      width 150px
      background $background
      color $foreground
      -webkit-appearance none
      height 22px
      padding 0
      border-radius 0
    
::-webkit-scrollbar
  width 15px
  height 15px

::-webkit-scrollbar-button
  width 0
  height 0

::-webkit-scrollbar-track
  background-color transparent

::-webkit-scrollbar-thumb
  background-color mix($foreground, $background, 30%)
  border 3px solid transparent
  border-radius 6px
  background-clip content-box
  
  &:hover
    background-color mix($foreground, $background, 35%)

::-webkit-scrollbar-corner
  background-color mix($foreground, $background, 15%)